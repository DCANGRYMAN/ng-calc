<div class="credit-container">
  <h1>Simulador de Crédito</h1>

  <form
    class="credit-form"
    [formGroup]="form"
    (ngSubmit)="simulate()"
  >
    <div class="field">
      <label>Nome completo</label>
      <input
        type="text"
        formControlName="name"
        placeholder="Seu nome"
        [class.invalid]="hasError('name')"
      />
      <small *ngIf="hasError('name')">
        Informe um nome válido
      </small>
    </div>

    <div class="field">
      <label>CPF</label>
      <input
        type="text"
        formControlName="cpf"
        placeholder="000.000.000-00"
        [class.invalid]="hasError('cpf')"
      />
      <small *ngIf="hasError('cpf')">
        CPF é obrigatório
      </small>
    </div>

    <div class="field">
      <label>Celular</label>
      <input
        type="tel"
        formControlName="phone"
        placeholder="(51) 99999-9999"
        [class.invalid]="hasError('phone')"
      />
      <small *ngIf="hasError('phone')">
        Celular é obrigatório
      </small>
    </div>

    <div class="field">
      <label>Limite pretendido</label>
      <input
        type="number"
        formControlName="limit"
        placeholder="R$ 10.000"
        [class.invalid]="hasError('limit')"
      />
      <small *ngIf="hasError('limit')">
        Valor mínimo R$ 1.000
      </small>
    </div>

    <button class="btn-primary" [disabled]="loading">
      <ng-container *ngIf="!loading; else loadingTpl">
        Simular crédito
      </ng-container>
    </button>
  </form>

  <ng-template #loadingTpl>
    <span class="loader"></span>
  </ng-template>
</div>
